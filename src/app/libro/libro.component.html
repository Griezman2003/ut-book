<app-header></app-header>
<body>
    <!-- contenido del main centro -->
    <div class="container-fluid" style="height: 70vh; display: flex; align-items: center; justify-content: center;"> 
        <div class="row img-fluid" style="background-image: url('assets/images/biblioteca.jpg'); background-size: cover; background-position: center; width: 100%; height: 100%;
        display: flex; align-items: center;"> 
            <div class="col-md-12 text-center" style="background: rgba(0, 0, 0, 0.4); padding: 20px;"> 
                <div> 
                    <h1 class="text-white">Biblioteca Virtual</h1> 
                    <p class="text-white mt-5" style="font-size: 18px;">Bienvenidos a nuestra Biblioteca Virtual
                        La Biblioteca Virtual es un espacio digital concebido para albergar una colección curada de obras literarias de diversos géneros y épocas, disponibles al alcance de todos.
                        Nuestro objetivo principal es democratizar el acceso al conocimiento y fomentar el amor por la lectura en la era digital.</p> 
                </div> 
            </div> 
        </div> 
    </div>
    <!-- find -->
    <!-- Contenedor de las targetas -->
    <div class="container-md my-5 text-center">
        <div class="row">
            <div class="col-md-12">
                <ng-container *ngIf="libros.length > 0; else noData">
                    <div class="row">
                        <ng-container *ngFor="let libro of libros; trackBy: trackByFn">
                            <div class="col-md-3 mb-4">
                                <div class="book-card">
                                    <a>
                                        <img [src]="'http://localhost:3000' + libro.imagen_url" [alt]="libro.titulo" class="book-img" 
                                        (error)="imagenDefecto($event)">
                                    </a>
                                    <div class="book-body">
                                        <h5 class="book-title">{{ libro.titulo }}</h5>
                                        <hr class="my-2">
                                        <p class="book-author text-black">Autor: {{ libro.autor }}</p>
                                        <hr class="my-2">
                                        <p>
                                            <a class="text-decoration-none" [href]="'http://localhost:3000' + libro.archivo_pdf" target="_blank">Leer Libro online</a>
                                        </p>
                                        <hr class="my-2">
                                        <p class="book-author text-black"><a class="text-decoration-none" href="#" (click)="descargarLibro(libro)">Descargar</a></p>
                                        <hr class="my-2">
                                        <p class="book-author text-black">
                                            <a class="text-decoration-none" href="#" (click)="abrirLibro(libro.id)">Leer sin conexión</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </ng-container>
                <ng-template #noData>
                    <div class="text-center">Cargando libros...</div>
                </ng-template>
            </div>
        </div>
    </div>
    <!-- fin de las targetas -->
    
    <!-- Seccion del footer de la web -->
    @defer{
        <div class="container-fluid text-white mt-5" style="background-color: #212529; height: 20dvh; display: flex; justify-content: center; align-items: center;">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h6>Copyright © Universidad Tecnológica de Candelaria 2024</h6>
                </div>
            </div>
        </div>
    }
</body>

<!-- fin -->

